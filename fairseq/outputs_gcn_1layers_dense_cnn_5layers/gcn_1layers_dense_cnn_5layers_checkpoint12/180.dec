the apartment is a 1945 american romantic comedy film directed by billy wilder and starring edward g. boyle . the film is based on the novel of the same name by johanna spyri .