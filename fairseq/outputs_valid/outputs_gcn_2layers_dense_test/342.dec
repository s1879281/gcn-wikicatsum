the inspector general is a 1949 american comedy film directed by john paddy carstairs and starring danny kaye and danny kaye . the film is based on the novel the inspector general by edgar wallace .