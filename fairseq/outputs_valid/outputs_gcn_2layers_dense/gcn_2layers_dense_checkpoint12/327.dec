the sense of an ending is a 2017 american drama film directed by ritesh batra and written by julian barnes . the film is based on julian barnes 's 2011 novel of the same name by julian barnes .