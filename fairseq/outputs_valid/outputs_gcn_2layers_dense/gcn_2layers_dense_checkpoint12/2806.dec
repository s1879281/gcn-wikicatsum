before i sleep is a 2012 american drama film directed by rowan joff√© and starring colin firth , nicole kidman and bonnie wright . it is based on the best-selling novel before i go to sleep .