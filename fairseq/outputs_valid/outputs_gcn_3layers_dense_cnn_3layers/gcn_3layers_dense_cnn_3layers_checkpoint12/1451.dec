a midsummer night 's sex comedy is a 1982 american comedy film directed by woody allen and starring mia farrow , kevin kline , and kevin kline . the film is based on the play of the same name by peter shakespeare .