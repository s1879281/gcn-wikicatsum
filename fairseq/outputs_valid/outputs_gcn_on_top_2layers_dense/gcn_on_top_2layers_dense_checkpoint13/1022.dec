the square is a 1998 romantic drama film written and directed by peter greenaway . it is based on the novel of the same name by daniel defoe . the film is based on the novel of the same name by daniel defoe .