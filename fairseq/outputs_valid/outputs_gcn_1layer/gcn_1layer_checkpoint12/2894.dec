in the mouth of madness is a 1995 american science fiction horror film directed by john carpenter and starring john carpenter and linda fiorentino . the film is based on the novel of the same name by h. p. lovecraft .