14 going on 30 is a 2004 american comedy film written and directed by john malkovich . the film was released on april 23 , 2004 .