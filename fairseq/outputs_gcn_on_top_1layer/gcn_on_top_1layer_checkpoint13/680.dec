the barretts of wimpole street is a 1948 american drama film directed by sidney gilliat and starring bette davis . the screenplay by wilder and i.a.l. diamond . the film was based on the novel of the same name by charles dickens .