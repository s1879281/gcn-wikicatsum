manhattan is a 1979 american romantic comedy film directed by woody allen and produced by charles h. joffe .   the screenplay was written by allen and marshall brickman .   allen co-stars as a twice-divorced 42-year-old comedy writer who dates a 17-year-old girl ( mariel hemingway ) but falls in love with his best friend 's ( michael murphy ) mistress ( diane keaton ) .   meryl streep and anne byrne also star .   manhattan was filmed in black-and-white and 2.35:1 widescreen .   the film features music composed by george gershwin , including rhapsody in blue , which inspired the idea behind the film .   allen described the film as a combination of his previous two films , annie hall and interiors .   the film was met with widespread critical acclaim and was nominated for two academy awards : best supporting actress for hemingway and best writing , screenplay written directly for the screen for allen and brickman .   its north american box office receipts of $ 39.9 million made it allen 's second biggest box office hit ( after adjusting for inflation ) .   often considered one of allen 's best films , it ranks 46th on afi 's 100 years ... 100 laughs list and number 63 on bravo 's " 100 funniest movies " .   in 2001 , the united states library of congress deemed the film " culturally significant " and selected it for preservation in the national film registry .