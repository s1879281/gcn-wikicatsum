kingdom of heaven is a 2005 epic historical drama film directed and produced by ridley scott and written by william monahan .   it stars orlando bloom , eva green , jeremy irons , david thewlis , brendan gleeson , iain glen , marton csokas , liam neeson , edward norton , ghassan massoud , michael sheen , velibor topic and alexander siddig .   the story is set during the crusades of the 12th century .   a french village blacksmith goes to aid the kingdom of jerusalem in its defence against the ayyubi muslim sultan salahuddin , who is battling to claim the city from the christians leading to the battle of hattin .   the film script is a heavily fictionalised portrayal of the life of balian of ibelin ( ca. 1143 – 93 ) .   filming took place in ouarzazate , morocco , where scott had previously filmed gladiator and black hawk down , and in spain , at the loarre castle ( huesca ) , segovia , ávila , palma del río and casa de pilatos in sevilla .   the film received mixed reviews upon theatrical release .   in december 2005 , scott released a director 's cut of the film , the true version of what he wanted , which was much better-reviewed .