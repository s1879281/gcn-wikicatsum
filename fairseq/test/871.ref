license to wed is a 2007 american romantic comedy film starring robin williams , mandy moore and john krasinski , and directed by ken kwapis . the film was released in theaters on july 3 , 2007 .