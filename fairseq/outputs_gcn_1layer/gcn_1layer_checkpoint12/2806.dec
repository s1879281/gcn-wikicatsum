before i sleep is a 2011 american drama film directed by rowan joff√© and starring nicole kidman and nicole kidman . it is based on the best-selling first novel of the same name .