the notebook is a 2004 american romantic comedy film directed by ryan gosling and starring ryan gosling and rachel mcadams . it is based on the novel of the same name by nicholas sparks .