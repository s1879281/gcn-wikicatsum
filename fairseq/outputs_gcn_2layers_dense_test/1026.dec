the shooting of dan &lt;unk&gt; is a 1939 american comedy film directed by tex avery and written by avery hopwood . the film is based on the 1907 novel of the same name by robert service .