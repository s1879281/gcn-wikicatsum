the man in the iron mask is a 1998 american action drama film directed , produced , and written by randall wallace , and starring leonardo dicaprio in a dual role as the title character and villain , jeremy irons as aramis , john malkovich as athos , gerard depardieu as porthos , and gabriel byrne as d'artagnan . the picture uses characters from alexandre dumas ' d'artagnan romances and is very loosely adapted from some plot elements of the vicomte de bragelonne . the film centers on the aging four musketeers , athos , porthos , aramis , and d'artagnan , during the reign of king louis xiv and attempts to explain the mystery of the man in the iron mask , using a plot more closely related to the flamboyant 1929 version starring douglas fairbanks , the iron mask , and the 1939 version directed by james whale , than the original dumas book . like the 1998 version , the two aforementioned adaptations were also released through united artists .